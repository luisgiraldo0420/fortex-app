{"ast":null,"code":"import { API_URL } from \"../utils/constants\";\nexport async function deletePersonApi(data, newValues, token) {\n  const {\n    id: groupId,\n    people\n  } = data;\n  console.log(people, groupId, 'desde el api');\n  let oldValues = people.map(person => person.id);\n\n  try {\n    const url = `${API_URL}group/manage-members`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${token.token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        oldValues,\n        newValue,\n        groupId\n      })\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function deleteRoleApi(data, newValues, token) {\n  const {\n    id: groupId,\n    roles\n  } = data;\n  let oldValues = roles.map(role => role.id);\n\n  try {\n    const url = `${API_URL}group/manage-roles`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${token.token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        groupId,\n        oldValues,\n        newValues\n      })\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"names":["API_URL","deletePersonApi","data","newValues","token","id","groupId","people","console","log","oldValues","map","person","url","params","method","headers","Authorization","body","JSON","stringify","newValue","response","fetch","result","json","error","deleteRoleApi","roles","role"],"sources":["/Users/luisgiraldo/Desktop/fortex/src/api/person.tsx"],"sourcesContent":["import { Group, Person } from \"../types\";\nimport { API_URL } from \"../utils/constants\";\n\nexport async function deletePersonApi(data:Group, newValues:Person, token:any) {\n    const {id:groupId, people} = data;\n    console.log(people,groupId,  'desde el api');\n    \n    let oldValues = people.map((person:Person) =>  person.id)\n    try {\n      const url = `${API_URL}group/manage-members`;\n      const params = {\n        method: \"POST\",\n        headers: {\n          Authorization: `${token.token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ oldValues, newValue, groupId}),\n      };\n      const response = await fetch(url, params);\n      const result = await response.json();\n      console.log(result)\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  export async function deleteRoleApi(data:Group, newValues:Person, token:any) {\n    \n    const {id:groupId, roles} = data;\n    \n    let oldValues = roles.map((role:Person) =>  role.id)\n    try {\n      const url = `${API_URL}group/manage-roles`;\n      const params = {\n        method: \"POST\",\n        headers: {\n          Authorization: `${token.token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({groupId, oldValues, newValues}),\n      };\n      const response = await fetch(url, params);\n      const result = await response.json();\n      console.log(result)\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  }"],"mappings":"AACA,SAASA,OAAT,QAAwB,oBAAxB;AAEA,OAAO,eAAeC,eAAf,CAA+BC,IAA/B,EAA2CC,SAA3C,EAA6DC,KAA7D,EAAwE;EAC3E,MAAM;IAACC,EAAE,EAACC,OAAJ;IAAaC;EAAb,IAAuBL,IAA7B;EACAM,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAmBD,OAAnB,EAA6B,cAA7B;EAEA,IAAII,SAAS,GAAGH,MAAM,CAACI,GAAP,CAAYC,MAAD,IAAoBA,MAAM,CAACP,EAAtC,CAAhB;;EACA,IAAI;IACF,MAAMQ,GAAG,GAAI,GAAEb,OAAQ,sBAAvB;IACA,MAAMc,MAAM,GAAG;MACbC,MAAM,EAAE,MADK;MAEbC,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEb,KAAK,CAACA,KAAM,EADvB;QAEP,gBAAgB;MAFT,CAFI;MAMbc,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEV,SAAF;QAAaW,QAAb;QAAuBf;MAAvB,CAAf;IANO,CAAf;IAQA,MAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAD,EAAMC,MAAN,CAA5B;IACA,MAAMU,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IACAjB,OAAO,CAACC,GAAR,CAAYe,MAAZ;IACA,OAAOA,MAAP;EACD,CAdD,CAcE,OAAOE,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF;AAED,OAAO,eAAeC,aAAf,CAA6BzB,IAA7B,EAAyCC,SAAzC,EAA2DC,KAA3D,EAAsE;EAE3E,MAAM;IAACC,EAAE,EAACC,OAAJ;IAAasB;EAAb,IAAsB1B,IAA5B;EAEA,IAAIQ,SAAS,GAAGkB,KAAK,CAACjB,GAAN,CAAWkB,IAAD,IAAkBA,IAAI,CAACxB,EAAjC,CAAhB;;EACA,IAAI;IACF,MAAMQ,GAAG,GAAI,GAAEb,OAAQ,oBAAvB;IACA,MAAMc,MAAM,GAAG;MACbC,MAAM,EAAE,MADK;MAEbC,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEb,KAAK,CAACA,KAAM,EADvB;QAEP,gBAAgB;MAFT,CAFI;MAMbc,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACd,OAAD;QAAUI,SAAV;QAAqBP;MAArB,CAAf;IANO,CAAf;IAQA,MAAMmB,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAD,EAAMC,MAAN,CAA5B;IACA,MAAMU,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IACAjB,OAAO,CAACC,GAAR,CAAYe,MAAZ;IACA,OAAOA,MAAP;EACD,CAdD,CAcE,OAAOE,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF"},"metadata":{},"sourceType":"module"}