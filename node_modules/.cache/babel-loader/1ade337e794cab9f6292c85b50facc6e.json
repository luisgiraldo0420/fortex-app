{"ast":null,"code":"var _jsxFileName = \"/Users/luisgiraldo/Desktop/fortex/src/pages/home.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Container from '@material-ui/core/Container';\nimport { useGroups } from '../hooks/useGroups';\nimport { CircularProgress, Button } from '@material-ui/core';\nimport './styles.scss';\nimport GroupsTable from '../components/groupsTable';\nimport { BasicModal } from '../components/Common';\nimport { AddEditGroups } from '../components/groups';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [titleModal, setTitleModal] = useState(null);\n  const [contentModal, setContentModal] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const {\n    groups,\n    loading,\n    getGroups,\n    deleteGroup\n  } = useGroups();\n  const [refresh, setRefresh] = useState(false);\n  useEffect(() => {\n    getGroups();\n  }, [refresh]);\n  console.log(groups);\n\n  const openCloseModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const onrefresh = () => setRefresh(prev => !prev);\n\n  const addGroup = () => {\n    setTitleModal(\"New group\");\n    setContentModal( /*#__PURE__*/_jsxDEV(AddEditGroups, {\n      onClose: openCloseModal,\n      onrefresh: onrefresh\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this));\n    openCloseModal();\n  };\n\n  const updateGroup = data => {\n    setTitleModal(\"Edit group\");\n    setContentModal( /*#__PURE__*/_jsxDEV(AddEditGroups, {\n      onClose: openCloseModal,\n      onrefresh: onrefresh,\n      group: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }, this));\n    openCloseModal();\n  };\n\n  const onDeleteGroup = data => {\n    Swal.fire({\n      text: \"Are you sure you want to delete the record?\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        deleteGroup(data.id);\n        onrefresh();\n        Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n      }\n    });\n  };\n\n  const postGroup = data => {\n    console.log('entramos', data);\n    deletePerson(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"heading_table\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: addGroup,\n        children: \"New Group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), loading === true || loading === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(GroupsTable, {\n      group: groups.groups,\n      updateGroup: updateGroup,\n      onDeleteGroup: onDeleteGroup,\n      postGroup: postGroup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(BasicModal, {\n      show: showModal,\n      title: titleModal,\n      children: contentModal,\n      onClose: openCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 4\n  }, this);\n}\n\n_s(Home, \"UwIL3XNMtiXC0oBYfqvd/2s1slc=\", false, function () {\n  return [useGroups];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Container","useGroups","CircularProgress","Button","GroupsTable","BasicModal","AddEditGroups","Swal","Home","titleModal","setTitleModal","contentModal","setContentModal","showModal","setShowModal","groups","loading","getGroups","deleteGroup","refresh","setRefresh","console","log","openCloseModal","prev","onrefresh","addGroup","updateGroup","data","onDeleteGroup","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","id","postGroup","deletePerson"],"sources":["/Users/luisgiraldo/Desktop/fortex/src/pages/home.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Container from '@material-ui/core/Container'\nimport { useGroups } from '../hooks/useGroups';\nimport { CircularProgress, Button } from '@material-ui/core';\nimport './styles.scss'\nimport GroupsTable from '../components/groupsTable';\nimport {BasicModal} from '../components/Common';\nimport { AddEditGroups } from '../components/groups';\nimport Swal from 'sweetalert2';\nimport { isDeleteExpression } from 'typescript';\n\n interface Group {\n  id:          string;\n  name:        string;\n  description: string;\n  type:        boolean;\n  roles:       Person[];\n  people:      Person[];\n  members:     number;\n}\n\n interface Person {\n  id:     string;\n  name:   string;\n  active: boolean;\n}\n\n\nexport default function Home() {\n  const [titleModal, setTitleModal] = useState<any | null>(null);\n  const [contentModal, setContentModal] = useState<any | null>(null);\n  const [showModal, setShowModal] = useState(false);\n  const {groups, loading, getGroups, deleteGroup} = useGroups();\n  const [refresh, setRefresh] = useState(false);\n\n  useEffect(() => {\n    getGroups();\n  }, [refresh]);\n\n  console.log(groups)\n  const openCloseModal = () =>{ setShowModal((prev) => !prev)};\n  const onrefresh = () => setRefresh((prev) =>  !prev);\n\n  const addGroup = () => {\n    setTitleModal(\"New group\");\n    setContentModal(<AddEditGroups onClose={openCloseModal} onrefresh={onrefresh} />)\n    openCloseModal()\n  }\n\nconst updateGroup = (data: any) => {\n  setTitleModal(\"Edit group\");\n  setContentModal(<AddEditGroups onClose={openCloseModal} onrefresh={onrefresh} group={data} />)\n  openCloseModal()\n}\nconst onDeleteGroup= (data:any) => {\n  Swal.fire({\n    text: \"Are you sure you want to delete the record?\",\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonColor: '#3085d6',\n    cancelButtonColor: '#d33',\n    confirmButtonText: 'Yes, delete it!'\n  }).then((result) => {\n    if (result.isConfirmed) {\n      deleteGroup(data.id)\n      onrefresh();\n      Swal.fire(\n        'Deleted!',\n        'Your file has been deleted.',\n        'success'\n      )\n    }\n  })\n}\nconst postGroup =(data:Group)=>{\n  console.log('entramos', data);\n  deletePerson(data);\n  \n}\n\n  return (\n   <Container className='content'>\n    <div className='heading_table'>\n      <h1>Groups</h1>\n      <Button variant=\"contained\" color=\"primary\" onClick={addGroup}>\n      New Group\n    </Button>\n    </div>\n    {loading === true || loading === null ? ( \n      <div className=\"loader\">\n      <CircularProgress color=\"secondary\" />\n      </div> \n      ):\n      (\n     <GroupsTable\n       group={groups.groups}\n       updateGroup={updateGroup}\n       onDeleteGroup={onDeleteGroup}\n       postGroup={postGroup}\n       />\n       ) }\n       <BasicModal \n       show={showModal} \n       title={titleModal}\n       children={contentModal}\n       onClose={openCloseModal}/>\n   </Container>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}