{"ast":null,"code":"var _jsxFileName = \"/Users/luisgiraldo/Desktop/fortex/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, createContext } from \"react\";\nimport { setToken, setUser, getToken, getUser, removeToken, removeUser } from \"../api/token\"; //import { useUser } from \"../hooks\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext({\n  auth: null,\n  login: (token, user) => {},\n  logout: () => console.log('cerrando sesion')\n});\nexport function AuthProvider(props) {\n  _s();\n\n  const {\n    children\n  } = props;\n  const [auth, setAuth] = useState(null);\n  useEffect(() => {\n    (async () => {\n      const token = getToken();\n      const user = getUser();\n\n      if (token && user) {\n        setAuth({\n          token,\n          user\n        });\n      } else {\n        setAuth(null);\n      }\n    })();\n  }, []);\n\n  const login = async (token, user) => {\n    setToken(token);\n    setUser(user);\n    setAuth({\n      token,\n      user\n    });\n  };\n\n  const logout = () => {\n    if (auth) {\n      removeToken();\n      removeUser();\n      setAuth(null);\n    }\n  };\n\n  const valueContext = {\n    auth,\n    login,\n    logout\n  };\n  if (auth === null) return undefined;\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: valueContext,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthProvider, \"rvIDANynb054X/J0MJbkV+yIK+M=\");\n\n_c = AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","useState","useEffect","createContext","setToken","setUser","getToken","getUser","removeToken","removeUser","AuthContext","auth","login","token","user","logout","console","log","AuthProvider","props","children","setAuth","valueContext","undefined"],"sources":["/Users/luisgiraldo/Desktop/fortex/src/context/AuthContext.tsx"],"sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\nimport { setToken, setUser, getToken, getUser, removeToken, removeUser } from \"../api/token\";\n//import { useUser } from \"../hooks\";\n\nexport const AuthContext = createContext({\n     auth: null,\n     login: (token: string, user: {}) => {},\n    logout: () => console.log('cerrando sesion')\n});\n\nexport function AuthProvider(props:any) {\n  const { children } = props;\n  const [auth, setAuth] = useState<any | null>(null);\n  \n  useEffect(() => {\n    (async () => {\n      const token = getToken();\n      const user = getUser();\n      if (token && user) {\n        setAuth({ token, user });\n      } else {\n        setAuth(null);\n      }\n    })();\n  }, []);\n\n   const login = async (token: string, user: {}) => {\n    setToken(token);\n    setUser(user);\n    setAuth({ token, user });\n  };\n\n  const logout = () => {\n    if (auth) {\n      removeToken();\n      removeUser();\n      setAuth(null);\n    }\n  };\n\n  const valueContext = {\n    auth,\n    login,\n    logout\n  };\n\n   if (auth === null) return undefined;\n\n  return (\n    <AuthContext.Provider value={valueContext}>{children}</AuthContext.Provider>\n  );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,OAAtC,EAA+CC,WAA/C,EAA4DC,UAA5D,QAA8E,cAA9E,C,CACA;;;AAEA,OAAO,MAAMC,WAAW,gBAAGP,aAAa,CAAC;EACpCQ,IAAI,EAAE,IAD8B;EAEpCC,KAAK,EAAE,CAACC,KAAD,EAAgBC,IAAhB,KAA6B,CAAE,CAFF;EAGrCC,MAAM,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAHuB,CAAD,CAAjC;AAMP,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAAiC;EAAA;;EACtC,MAAM;IAAEC;EAAF,IAAeD,KAArB;EACA,MAAM,CAACR,IAAD,EAAOU,OAAP,IAAkBpB,QAAQ,CAAa,IAAb,CAAhC;EAEAC,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,MAAMW,KAAK,GAAGP,QAAQ,EAAtB;MACA,MAAMQ,IAAI,GAAGP,OAAO,EAApB;;MACA,IAAIM,KAAK,IAAIC,IAAb,EAAmB;QACjBO,OAAO,CAAC;UAAER,KAAF;UAASC;QAAT,CAAD,CAAP;MACD,CAFD,MAEO;QACLO,OAAO,CAAC,IAAD,CAAP;MACD;IACF,CARD;EASD,CAVQ,EAUN,EAVM,CAAT;;EAYC,MAAMT,KAAK,GAAG,OAAOC,KAAP,EAAsBC,IAAtB,KAAmC;IAChDV,QAAQ,CAACS,KAAD,CAAR;IACAR,OAAO,CAACS,IAAD,CAAP;IACAO,OAAO,CAAC;MAAER,KAAF;MAASC;IAAT,CAAD,CAAP;EACD,CAJA;;EAMD,MAAMC,MAAM,GAAG,MAAM;IACnB,IAAIJ,IAAJ,EAAU;MACRH,WAAW;MACXC,UAAU;MACVY,OAAO,CAAC,IAAD,CAAP;IACD;EACF,CAND;;EAQA,MAAMC,YAAY,GAAG;IACnBX,IADmB;IAEnBC,KAFmB;IAGnBG;EAHmB,CAArB;EAMC,IAAIJ,IAAI,KAAK,IAAb,EAAmB,OAAOY,SAAP;EAEpB,oBACE,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAED,YAA7B;IAAA,UAA4CF;EAA5C;IAAA;IAAA;IAAA;EAAA,QADF;AAGD;;GAzCeF,Y;;KAAAA,Y"},"metadata":{},"sourceType":"module"}