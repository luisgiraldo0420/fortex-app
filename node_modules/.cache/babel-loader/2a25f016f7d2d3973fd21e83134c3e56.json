{"ast":null,"code":"import { API_URL } from \"../utils/constants\";\nexport async function deletePersonApi(data, newValues, token) {\n  const {\n    id: groupId,\n    people\n  } = data;\n  let oldValues = people.map(person => person.id);\n\n  try {\n    const url = `${API_URL}group/manage-members`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${token.token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(groupId, [oldValues], [newValues])\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\nexport async function deleteRoleApi(data, newValues, token) {\n  const {\n    id: groupId,\n    roles\n  } = data;\n  let oldValues = roles.map(role => role.id);\n\n  try {\n    const url = `${API_URL}group/manage-roles`;\n    const params = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${token.token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        groupId,\n        oldValues,\n        newValues\n      })\n    };\n    const response = await fetch(url, params);\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}","map":{"version":3,"names":["API_URL","deletePersonApi","data","newValues","token","id","groupId","people","oldValues","map","person","url","params","method","headers","Authorization","body","JSON","stringify","response","fetch","result","json","console","log","error","deleteRoleApi","roles","role"],"sources":["/Users/luisgiraldo/Desktop/fortex/src/api/person.tsx"],"sourcesContent":["import { Group, Person } from \"../types\";\nimport { API_URL } from \"../utils/constants\";\n\nexport async function deletePersonApi(data:Group, newValues:Person, token:any) {\n    const {id:groupId, people} = data;    \n    let oldValues = people.map((person:Person) =>  person.id)\n    try {\n      const url = `${API_URL}group/manage-members`;\n      const params = {\n        method: \"POST\",\n        headers: {\n          Authorization: `${token.token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(groupId, [oldValues], [newValues]),\n      };\n      const response = await fetch(url, params);\n      const result = await response.json();\n      console.log(result)\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  export async function deleteRoleApi(data:Group, newValues:Person, token:any) {\n    \n    const {id:groupId, roles} = data;\n    \n    let oldValues = roles.map((role:Person) =>  role.id)\n    try {\n      const url = `${API_URL}group/manage-roles`;\n      const params = {\n        method: \"POST\",\n        headers: {\n          Authorization: `${token.token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({groupId, oldValues, newValues}),\n      };\n      const response = await fetch(url, params);\n      const result = await response.json();\n      console.log(result)\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  }"],"mappings":"AACA,SAASA,OAAT,QAAwB,oBAAxB;AAEA,OAAO,eAAeC,eAAf,CAA+BC,IAA/B,EAA2CC,SAA3C,EAA6DC,KAA7D,EAAwE;EAC3E,MAAM;IAACC,EAAE,EAACC,OAAJ;IAAaC;EAAb,IAAuBL,IAA7B;EACA,IAAIM,SAAS,GAAGD,MAAM,CAACE,GAAP,CAAYC,MAAD,IAAoBA,MAAM,CAACL,EAAtC,CAAhB;;EACA,IAAI;IACF,MAAMM,GAAG,GAAI,GAAEX,OAAQ,sBAAvB;IACA,MAAMY,MAAM,GAAG;MACbC,MAAM,EAAE,MADK;MAEbC,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEX,KAAK,CAACA,KAAM,EADvB;QAEP,gBAAgB;MAFT,CAFI;MAMbY,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,OAAf,EAAwB,CAACE,SAAD,CAAxB,EAAqC,CAACL,SAAD,CAArC;IANO,CAAf;IAQA,MAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAD,EAAMC,MAAN,CAA5B;IACA,MAAMS,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IACAC,OAAO,CAACC,GAAR,CAAYH,MAAZ;IACA,OAAOA,MAAP;EACD,CAdD,CAcE,OAAOI,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF;AAED,OAAO,eAAeC,aAAf,CAA6BxB,IAA7B,EAAyCC,SAAzC,EAA2DC,KAA3D,EAAsE;EAE3E,MAAM;IAACC,EAAE,EAACC,OAAJ;IAAaqB;EAAb,IAAsBzB,IAA5B;EAEA,IAAIM,SAAS,GAAGmB,KAAK,CAAClB,GAAN,CAAWmB,IAAD,IAAkBA,IAAI,CAACvB,EAAjC,CAAhB;;EACA,IAAI;IACF,MAAMM,GAAG,GAAI,GAAEX,OAAQ,oBAAvB;IACA,MAAMY,MAAM,GAAG;MACbC,MAAM,EAAE,MADK;MAEbC,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEX,KAAK,CAACA,KAAM,EADvB;QAEP,gBAAgB;MAFT,CAFI;MAMbY,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACZ,OAAD;QAAUE,SAAV;QAAqBL;MAArB,CAAf;IANO,CAAf;IAQA,MAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAD,EAAMC,MAAN,CAA5B;IACA,MAAMS,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;IACAC,OAAO,CAACC,GAAR,CAAYH,MAAZ;IACA,OAAOA,MAAP;EACD,CAdD,CAcE,OAAOI,KAAP,EAAc;IACd,MAAMA,KAAN;EACD;AACF"},"metadata":{},"sourceType":"module"}